"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("react"),E=require("prop-types"),f=e=>e&&typeof e=="object"&&"default"in e?e:{default:e},w=f(t),a=f(E),p=({children:e,className:n,onEscapeKeyDown:c,onPointerDownOutside:s})=>{const u=t.useRef(null),i=l(c),d=l(s);return t.useEffect(()=>{const r=o=>{o.key==="Escape"&&i(o)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[i]),t.useEffect(()=>{const r=o=>{const y=u.current.closest("[data-react-portal]"),m=o.target.closest("[data-react-portal]");u.current&&!u.current.contains(o.target)&&y===m&&d()};return document.addEventListener("pointerdown",r),()=>document.removeEventListener("pointerdown",r)},[d]),w.default.createElement("div",{ref:u,className:n},e)};p.propTypes={children:a.default.node.isRequired,className:a.default.string,onEscapeKeyDown:a.default.func.isRequired,onPointerDownOutside:a.default.func.isRequired};function l(e){const n=t.useRef(e);return t.useEffect(()=>{n.current=e}),t.useMemo(()=>(...c)=>{var s;return(s=n.current)==null?void 0:s.call(n,...c)},[])}exports.DismissibleLayer=p;
