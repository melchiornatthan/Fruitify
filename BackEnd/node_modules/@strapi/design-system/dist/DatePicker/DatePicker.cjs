"use strict";var W=Object.defineProperty;var i=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var P=(e,a,t)=>a in e?W(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,j=(e,a)=>{for(var t in a||(a={}))I.call(a,t)&&P(e,t,a[t]);if(i)for(var t of i(a))_.call(a,t)&&P(e,t,a[t]);return e};var y=(e,a)=>{var t={};for(var r in e)I.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&i)for(var r of i(e))a.indexOf(r)<0&&_.call(e,r)&&(t[r]=e[r]);return t};Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const c=require("react"),A=require("prop-types"),V=require("@strapi/icons/Calendar"),w=require("@strapi/icons/Cross"),F=require("../themes/sizes.cjs"),G=require("../TextInput/TextInput.cjs"),D=require("./components.cjs"),H=require("./DatePickerCalendar.cjs"),R=require("./utils/formatDate.cjs"),J=require("../helpers/useId.cjs"),K=require("../helpers/getDefaultLocale.cjs"),u=e=>e&&typeof e=="object"&&"default"in e?e:{default:e},l=u(c),n=u(A),N=u(V),Q=u(w),b=U=>{var m=U,{ariaLabel:e,initialDate:a,selectedDate:t,onChange:r,label:d,locale:E,selectedDateLabel:L,onClear:g,clearLabel:T,disabled:o,id:O}=m,x=y(m,["ariaLabel","initialDate","selectedDate","onChange","label","locale","selectedDateLabel","onClear","clearLabel","disabled","id"]);const z=J.useId("datepicker",O),[C,f]=c.useState(!1),s=c.useRef(null),h=c.useRef(null),k=E||K.getDefaultLocale(),q=t?R.formatDate(t,k):"",v=()=>{o||f(p=>!p)},S=()=>{o||(g(),h.current.focus())},B=p=>{r(p),f(!1)},M=()=>{f(!1)};return l.default.createElement(D.DatePickerWrapper,{bold:C},l.default.createElement(G.TextInput,j({ref:s,onClick:v,onChange:()=>{},value:q,startAction:l.default.createElement(D.DatePickerButton,{ref:h,onClick:v,"aria-label":t?L(R.formatDate(t,k)):d,type:"button","aria-disabled":o},l.default.createElement(N.default,{"aria-hidden":!0})),endAction:g&&q?l.default.createElement(D.IconBox,{as:"button",onClick:S,"aria-label":T,"aria-disabled":o},l.default.createElement(Q.default,null)):void 0,"aria-autocomplete":"none",label:d,"aria-label":e,disabled:o,id:z},x)),s.current&&s.current.inputWrapperRef&&C&&l.default.createElement(H.DatePickerCalendar,{selectedDate:t,initialDate:a,onChange:B,onEscape:M,popoverSource:s.current.inputWrapperRef,label:d||e}))};b.defaultProps={ariaLabel:void 0,clearLabel:void 0,disabled:!1,id:void 0,label:void 0,initialDate:new Date,onClear:void 0,placeholder:void 0,selectedDate:void 0,size:"M"};b.propTypes={ariaLabel:n.default.string,clearLabel:n.default.string,disabled:n.default.bool,id:n.default.string,initialDate:n.default.instanceOf(Date),label:n.default.string,locale:n.default.string,maxDate:n.default.instanceOf(Date),minDate:n.default.instanceOf(Date),onChange:n.default.func.isRequired,onClear:n.default.func,placeholder:n.default.string,selectedDate:n.default.instanceOf(Date),selectedDateLabel:n.default.func.isRequired,size:n.default.oneOf(Object.keys(F.sizes.input))};exports.DatePicker=b;
