import { useEffect as g } from "react";
const v = (t, n, { selectorToWatch: r, skipWhen: e = !1 }) => {
  g(() => {
    if (e)
      return;
    const s = {
      root: t.current,
      rootMargin: "0px"
    }, c = (f) => {
      f.forEach((i) => {
        i.isIntersecting && t.current.scrollHeight > t.current.clientHeight && n(i);
      });
    }, o = new IntersectionObserver(c, s), u = t.current.querySelector(r);
    return o.observe(u), () => {
      o.disconnect();
    };
  }, [e, n, r]);
};
export {
  v as useIntersection
};
